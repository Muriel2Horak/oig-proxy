{
  "generated_at": "2026-02-19T22:09:49.869528Z",
  "task": "task-3-signal-taxonomy",
  "version": "1.0",
  "sources": [
    "addon/oig-proxy/oig_frame.py",
    "addon/oig-proxy/proxy.py",
    "addon/oig-proxy/cloud_forwarder.py",
    "testing/comparison_suite.py"
  ],
  "signal_classes": [
    {
      "canonical_id": "IsNewSet",
      "aliases": [
        "isnewset",
        "tbl_actual:Result=IsNewSet",
        "Result:IsNewSet"
      ],
      "direction": "box_to_proxy",
      "description": "Polling signal from BOX checking for new settings. Carries <TblName>tbl_actual</TblName> but logical table is Result value.",
      "protocol_tags": [
        "TblName:tbl_actual",
        "Result:IsNewSet"
      ],
      "payload_variant": "poll_query",
      "mode_notes": {
        "online": "Forwards to cloud, receives ACK/END echo or empty END",
        "hybrid": "Forwards to cloud if healthy, falls back to local END if timeout",
        "offline": "Local END response (no time/GetActual), delivers pending Setting frame if queued"
      },
      "response_classes": [
        "END",
        "IsNewSet"
      ],
      "source_location": "proxy.py:463-465, cloud_forwarder.py:460-492",
      "telemetry_tracking": true
    },
    {
      "canonical_id": "IsNewWeather",
      "aliases": [
        "isnewweather",
        "tbl_actual:Result=IsNewWeather",
        "Result:IsNewWeather"
      ],
      "direction": "box_to_proxy",
      "description": "Polling signal from BOX checking for weather data updates. Carries <TblName>tbl_actual</TblName> but logical table is Result value.",
      "protocol_tags": [
        "TblName:tbl_actual",
        "Result:IsNewWeather"
      ],
      "payload_variant": "poll_query",
      "mode_notes": {
        "online": "Forwards to cloud, receives ACK/END echo or empty END",
        "hybrid": "Forwards to cloud if healthy, falls back to local END if timeout",
        "offline": "Local END response (plain END without time/GetActual), delivers pending Setting frame if queued"
      },
      "response_classes": [
        "END",
        "IsNewWeather"
      ],
      "source_location": "proxy.py:463-465, cloud_forwarder.py:460-492",
      "telemetry_tracking": true
    },
    {
      "canonical_id": "IsNewFW",
      "aliases": [
        "isnewfw",
        "tbl_actual:Result=IsNewFW",
        "Result:IsNewFW"
      ],
      "direction": "box_to_proxy",
      "description": "Polling signal from BOX checking for firmware updates. Carries <TblName>tbl_actual</TblName> but logical table is Result value.",
      "protocol_tags": [
        "TblName:tbl_actual",
        "Result:IsNewFW"
      ],
      "payload_variant": "poll_query",
      "mode_notes": {
        "online": "Forwards to cloud, receives ACK/END echo or empty END",
        "hybrid": "Forwards to cloud if healthy, falls back to local END if timeout",
        "offline": "Local END response (plain END without time/GetActual), delivers pending Setting frame if queued"
      },
      "response_classes": [
        "END",
        "IsNewFW"
      ],
      "source_location": "proxy.py:463-465, cloud_forwarder.py:460-492",
      "telemetry_tracking": true
    },
    {
      "canonical_id": "END",
      "aliases": [
        "Result:END",
        "end_frame"
      ],
      "direction": "bidirectional",
      "description": "End-of-transmission signal. BOX sends END with local/UTC time and GetActual. Cloud responds with ACK (not no_response as expected from historical data).",
      "protocol_tags": [
        "Result:END"
      ],
      "payload_variant": "control_frame",
      "mode_notes": {
        "online": "BOX sends END with time + GetActual, cloud responds with ACK",
        "hybrid": "BOX sends END with time + GetActual, cloud responds with ACK. If cloud timeout, proxy sends local END with time + GetActual",
        "offline": "Local END response with current time + UTC time + GetActual (via build_end_time_frame())"
      },
      "response_classes": [
        "ACK"
      ],
      "source_location": "oig_frame.py:82-83, 105-115, cloud_forwarder.py:277-291",
      "telemetry_tracking": false
    },
    {
      "canonical_id": "ACK",
      "aliases": [
        "Result:ACK",
        "ack_frame",
        "acknowledgment"
      ],
      "direction": "cloud_to_proxy_or_local",
      "description": "Acknowledgment signal from cloud or generated locally. Standard response to data table frames (tbl_*) and END frames.",
      "protocol_tags": [
        "Result:ACK"
      ],
      "payload_variant": "control_frame",
      "mode_notes": {
        "online": "Generated by cloud for tbl_* data frames and END frames",
        "hybrid": "Cloud ACK for tbl_* and END, local ACK if cloud timeout",
        "offline": "Local ACK generation for tbl_* data frames (via build_ack_only_frame())"
      },
      "response_classes": [],
      "source_location": "oig_frame.py:82, 100-102",
      "telemetry_tracking": false
    },
    {
      "canonical_id": "NACK",
      "aliases": [
        "nack",
        "negative_acknowledgment",
        "error_response"
      ],
      "direction": "cloud_to_proxy_or_local",
      "description": "Negative acknowledgment signal (conceptual). Not currently observed in codebase but represents potential error responses. Included for completeness of taxonomy.",
      "protocol_tags": [],
      "payload_variant": "control_frame",
      "mode_notes": {
        "online": "Would indicate error response from cloud (not observed)",
        "hybrid": "Would indicate error response from cloud (not observed)",
        "offline": "Local implementation not present (would be different from ACK)"
      },
      "response_classes": [],
      "source_location": "Conceptual - not implemented in codebase",
      "telemetry_tracking": false
    }
  ]
}